<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pedidos - GEP Restaurante</title>
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: #111;
      color: #fff;
      padding-top: 65px;
    }

    .navbar {
      background: #FFD700;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 15px;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
    }

    .logo img { height: 40px; }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 20px;
      margin-left: auto;
    }
    .nav-links li a {
      text-decoration: none;
      color: #111;
      font-weight: bold;
    }

    /* Bot√£o Op√ß√µes */
    .menu-toggle {
      display: none; /* escondido no desktop */
      background: linear-gradient(135deg, #FFD700, #FF4C4C);
      color: #111;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(255, 215, 0, 0.4);
      transition: all 0.3s ease;
    }
    .menu-toggle:hover {
      background: linear-gradient(135deg, #FF4C4C, #007BFF);
      color: #fff;
      transform: scale(1.05);
    }

    @media(max-width:768px){
      .nav-links{display:none;}
      .menu-toggle { display:block; } /* vis√≠vel apenas em mobile */
    }

    .mobile-menu {
      display:none;
      flex-direction:column;
      gap:15px;
      background:#111;
      padding:15px;
      position:absolute;
      top:65px;
      left:0;
      width:100%;
      z-index:999;
    }
    .mobile-menu li a {
      display:block;
      padding:10px;
      background:linear-gradient(135deg,#FFD700,#FF4C4C);
      color:#111;
      border-radius:6px;
      text-align:center;
    }

    /* Carrinho */
    #carrinho {
      max-width: 600px;
      margin: 20px auto;
      background: #fff;
      color: #111;
      border-radius: 8px;
      padding: 20px;
    }
    #lista-carrinho li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      padding: 6px;
      border-bottom: 1px solid #eee;
    }
    .item-info { flex: 1; font-weight: 500; }
    .item-actions { display: flex; align-items: center; gap: 6px; }
    .item-actions span { min-width: 24px; text-align: center; font-weight: bold; }
    .item-actions button {
      padding: 4px 8px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background: linear-gradient(45deg, gold, coral);
      color: #111;
      font-weight: bold;
    }
    .item-actions button:hover { background: #0077cc; color: #fff; }

    #total { margin-top: 12px; font-weight: bold; text-align: right; }

    .finalizar-container {
      text-align: center;
      margin-top: 20px;
    }
    .btn-encomenda {
      padding: 12px 20px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      background: linear-gradient(45deg, gold, coral);
      color: #111;
      cursor: pointer;
    }
    .btn-encomenda:hover { background: #0077cc; color: #fff; }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">
      <a href="index.html">
        <img src="imagens/gep.logo.jpg" alt="Logo GEP Restaurante">
      </a>
    </div>

    <!-- Bot√£o Op√ß√µes dentro da NAV -->
    <button class="menu-toggle">Op√ß√µes ‚ò∞</button>

    <ul class="nav-links">
      <li><a href="card√°pio.html">Card√°pio</a></li>
      <li><a href="pedidos.html" class="active">Pedidos</a></li>
      <li><a href="eventos.html">Eventos</a></li>
      <li><a href="contactos.html">Contactos</a></li>
    </ul>
  </nav>

  <!-- Menu mobile -->
  <ul class="mobile-menu">
    <li><a href="card√°pio.html">Card√°pio</a></li>
    <li><a href="pedidos.html" class="active">Pedidos</a></li>
    <li><a href="eventos.html">Eventos</a></li>
    <li><a href="contactos.html">Contactos</a></li>
  </ul>

  <!-- Carrinho -->
  <div id="carrinho">
    <h2>Seu Pedido</h2>
    <ul id="lista-carrinho"></ul>
    <p id="total">Total: 0,00 KZ</p>
    <div class="finalizar-container">
      <button class="btn-encomenda" onclick="finalizarEncomenda()">Finalizar Encomenda</button>
    </div>
  </div>

  <script>
    let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];

    function atualizarCarrinho() {
      const lista = document.getElementById('lista-carrinho');
      const totalEl = document.getElementById('total');
      lista.innerHTML = '';
      let total = 0;

      carrinho.forEach(item => {
        const li = document.createElement('li');
        li.innerHTML = `
          <span class="item-info">${item.nome} ‚Äî ${item.preco.toLocaleString('pt-AO')} KZ</span>
          <div class="item-actions">
            <button onclick="alterarQtd('${item.id}', -1)">-</button>
            <span>${item.qtd}</span>
            <button onclick="alterarQtd('${item.id}', 1)">+</button>
            <button onclick="removerItem('${item.id}')">x</button>
          </div>
        `;
        lista.appendChild(li);
        total += item.preco * item.qtd;
      });

      totalEl.textContent = "Total: " + total.toLocaleString('pt-AO') + " KZ";
    }

    function alterarQtd(id, delta) {
      const item = carrinho.find(i => i.id === id);
      if (!item) return;
      item.qtd += delta;
      if (item.qtd <= 0) carrinho = carrinho.filter(i => i.id !== id);
      localStorage.setItem('carrinho', JSON.stringify(carrinho));
      atualizarCarrinho();
    }

    function removerItem(id) {
      carrinho = carrinho.filter(i => i.id !== id);
      localStorage.setItem('carrinho', JSON.stringify(carrinho));
      atualizarCarrinho();
    }

    function finalizarEncomenda() {
      let mensagem = "üç¥ Encomenda GEP Restaurante\n\nItens:\n";
      carrinho.forEach(item => {
        mensagem += `- ${item.nome} x${item.qtd} (${item.preco.toLocaleString('pt-AO')} KZ)\n`;
      });
      mensagem += `\n${document.getElementById('total').textContent}`;

      const url = "https://wa.me/244923281469?text=" + encodeURIComponent(mensagem);
      window.open(url, "_blank");

      carrinho = [];
      localStorage.removeItem('carrinho');
      atualizarCarrinho();

      window.location.href = "index.html";
    }

    atualizarCarrinho();
  </script>
</body>
</html>
